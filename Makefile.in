# Warning: this file must be usable by regular make
# (unlike the Makefiles in subdirectories).

SHELL = @SHELL@
@SUBMAKE@

PACKAGE = aciri-ipsumdump
VERSION = @IPSUMDUMP_VERSION@
LIBCLICK_VERSION = @LIBCLICK_VERSION@
libclick = libclick-$(LIBCLICK_VERSION)

top_srcdir = @top_srcdir@
srcdir = @srcdir@
top_builddir = .
subdir = .
AUTOCONF = @AUTOCONF@
INSTALL = @INSTALL@
INSTALL_IF_CHANGED = @INSTALL_IF_CHANGED@
INSTALL_DATA = @INSTALL@ -m 644
INSTALL_DATA_IF_CHANGED = @INSTALL_IF_CHANGED@ -m 644
mkinstalldirs = @top_srcdir@/mkinstalldirs

prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@

CLICK_BUILDTOOL = @CLICK_BUILDTOOL@
CLICKINCLUDES = @CLICKINCLUDES@
CLICKLIB = @CLICKLIB@

all: @LIBCLICK_TARGET@ src Makefile

$(libclick): always
	@cd $(libclick) && $(MAKE) all
src: always stamp-h
	@cd src && $(MAKE) all-local

install: always $(libclick) stamp-h
	@cd src && $(MAKE) install
install-libclick: always
	@cd $(libclick) && $(MAKE) install

elemlist elemlists: always
	@cd src && $(MAKE) elemlist

always:
	@:

$(srcdir)/configure: $(srcdir)/configure.in
	cd $(srcdir) && $(AUTOCONF)
config.status: $(srcdir)/configure
	$(SHELL) $(srcdir)/configure @ac_configure_args@
Makefile: config.status $(srcdir)/Makefile.in
	cd $(top_builddir) && \
	  CONFIG_FILES=$@ CONFIG_HEADERS= $(SHELL) ./config.status
config.h: stamp-h
stamp-h: $(srcdir)/config.h.in config.status
	cd $(top_builddir) && \
	  CONFIG_FILES= CONFIG_HEADERS='config.h' $(SHELL) ./config.status
	echo > stamp-h

clean:
	@-for d in $(libclick) src; do (cd $$d && $(MAKE) clean); done
	-rm -f conftest.*
distclean:
	@-for d in $(libclick) src; do (cd $$d && $(MAKE) distclean); done
	-rm -f config.h Makefile config.status
	-rm -f config.cache config.log click-compile stamp-h


clicksrcdir = @clicksrcdir@
clickbuilddir = @clickbuilddir@
fetch-click:
	cd $(clickbuilddir)/etc/libclick; $(MAKE) $(libclick).tar.gz
	cd $(top_srcdir); tar xzf $(clickbuilddir)/etc/libclick/$(libclick).tar.gz
	@for fgroup in `cat $(top_srcdir)/CLICKFILES`; do \
	  for f in `cd $(clicksrcdir) && eval echo $$fgroup`; do \
	    g=`echo $$f | sed 's/.*\/\([^/]*\)$$/\1/'`; \
	    rm -f $(top_srcdir)/src/$$g; \
	    ln $(clicksrcdir)/$$f $(top_srcdir)/src/$$g 2>/dev/null \
	    || cp -p $(clicksrcdir)/$$f $(top_srcdir)/src/$$g \
	    || echo "Could not copy $(clicksrcdir)/$$f!" 1>&2; \
	  done; done


distdir = $(PACKAGE)-$(VERSION)
dist: $(distdir).tar.gz
	-rm -rf $(distdir)
$(distdir).tar.gz: always distdir
	tar czf $(distdir).tar.gz $(distdir)
distdir:
	-rm -rf $(distdir)
	mkdir $(distdir)
	@-chmod 777 $(distdir)
	@echo Copying files...
	@for file in `cat $(srcdir)/DISTFILES`; do \
	  d=$(srcdir); \
	  if test -d "$$d/$$file"; then \
	    mkdir $(distdir)/$$file; \
	    chmod 777 $(distdir)/$$file; \
	  else \
	    test -f "$(distdir)/$$file" \
	    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \
	    || cp -p $$d/$$file $(distdir)/$$file \
	    || echo "Could not copy $$d/$$file!" 1>&2; \
	  fi; \
	done
	@for fgroup in `cat $(top_srcdir)/CLICKFILES`; do \
	  g=`echo $$fgroup | sed 's/.*\/\([^/]*\)$$/src\/\1/'`; \
	  for file in `cd $(top_srcdir) && eval echo $$g`; do \
	    ln $(top_srcdir)/$$file $(distdir)/src/$$file 2> /dev/null \
	    || cp -p $(top_srcdir)/$$file $(distdir)/$$file \
	    || echo "Could not copy $(top_srcdir)/$$file!" 1>&2; \
	  done; \
	done
	@cd $(libclick) && $(MAKE) distdir
	mv $(libclick)/$(libclick) $(distdir)


.PHONY: all always $(libclick) src elemlist elemlists \
	clean distclean dist distdir \
	install install-doc install-man install-local install-include \
	fetch-click
